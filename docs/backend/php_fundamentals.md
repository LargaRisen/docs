# PHP 基础知识

## 基础

### 对象和数组

> 新手一定要注意这两个的区别，不然取值的时候能折磨死

对象取值用 尖头->

数组取值用 方括号[]

## 技巧

### \<\?=\$a\?\>

> 等同于 \<\?php echo \$a; \?\>

## 优化

### PHP-FPM 配置

`pm.max_children` 是 PHP-FPM 配置中的一个重要参数，它决定了 PHP-FPM 进程池中可以同时运行的最大 PHP 子进程数量。

`pm.min_spare_servers` 参数指定了 PHP-FPM 进程池中保持的最小空闲进程数。这些空闲进程可以立即处理请求，以应对突发的请求增加。

`pm.max_children`的值一般可以根据内存来计算，一般会预留 20%内存给操作系统及其它服务，其余的可以根据每个 PHP 进程的平均内存消耗量（可以假设为 20MB），计算出合适的值。

假设内存为 2G，则可以计算出值大概为 84（2048 \* 0.8 / 20）

一般来说，可以将 `pm.min_spare_servers` 设置为 `pm.max_children` 的一定比例，比如 `pm.max_children` 的 10% - 20%。这样可以确保在任何时候都有足够的空闲进程可用来处理请求。

修改后记得重启 PHP-FPM：

```bash
sudo systemctl restart php-fpm
```

## 试题

### php 单引号和双引号的区别与用法

php 里的单引号把内容当成纯文本，不会经过服务器翻译。

而双引号则与此相反。里面的内容会经过服务器处理(process)。

> 说人话就是双引号支持变量，单引号会将文本原样输出

### require 和 include

他们大部分时候都是可以互换的。

但是`include`遇到问题会发出警告脚本继续运行，`require`则生成致命错误并停止运行程序。

### require_once 和 include_once

使用方法跟 require、include 一样，差别在于在引入文件前，会先检查文件是否已经在其他地方被引入过了，

若有，就不会再重复引入。

## 命名符 和 占位符

:xxx

?
